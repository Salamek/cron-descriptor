pkgname=python-cron-descriptor
pkgver=2.0.1
pkgdesc="A Python library that converts cron expressions into human readable strings."
pkgrel=1
arch=('any')
license=('MIT')
url='https://github.com/Salamek/cron-descriptor'
makedepends=(python-build python-installer python-wheel python-setuptools)
depends=(
    'python'
)

prepare() {
  mkdir -p "${srcdir}/${pkgname}"
  cp -R "${srcdir}/../../cron_descriptor" "${srcdir}/${pkgname}"
  cp -R "${srcdir}/../../tests" "${srcdir}/${pkgname}"
  cp -R "${srcdir}/../../pyproject.toml" "${srcdir}/${pkgname}"
  cp -R "${srcdir}/../../README.md" "${srcdir}/${pkgname}"
}

build() {
    cd "${srcdir}/${pkgname}"
    python -m build --wheel --no-isolation
}

package() {
  cd "${srcdir}/${pkgname}"
  python -m installer --destdir="$pkgdir" dist/*.whl
}